<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Messages • joyn</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Messages">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">joyn</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/main-functionalities.html">Main functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/adv-functionalities.html">Advanced functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/dplyr-joins.html">dplyr joins wrappers</a></li>
    <li><a class="dropdown-item" href="../articles/merge-wrapper.html">`data.table::merge()` wrapper</a></li>
    <li><a class="dropdown-item" href="../articles/messages.html">Messages</a></li>
    <li><a class="dropdown-item" href="../articles/aux-functions.html">Additional functions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/randrescastaneda/joyn/"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Messages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/randrescastaneda/joyn/blob/DEV/vignettes/messages.Rmd" class="external-link"><code>vignettes/messages.Rmd</code></a></small>
      <div class="d-none name"><code>messages.Rmd</code></div>
    </div>

    
    
<p>✅ This vignette is dedicated to one specific feature of
<code>joyn</code>: displaying information through
<strong>messages</strong>.</p>
<p>We’ll start with a rough overview of the different kinds of messages
that might be generated when merging two data tables, then discuss each
of them in detail with representative examples.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>Joyn</code> messages can be of 4 different types:</p>
<ol style="list-style-type: decimal">
<li><p><span style="color: #228B22;"><strong>Info</strong></span></p></li>
<li><p><span style="color: #0000B8;"><strong>Timing</strong></span></p></li>
<li><p><span style="color: #FE5A1D;"><strong>Warning</strong></span></p></li>
<li><p><span style="color: #CE2029;"><strong>Error</strong></span></p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Setup </span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/randrescastaneda/joyn" class="external-link">joyn</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'joyn'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     merge</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Checking available types of messages</span></span>
<span><span class="va">msgs_types</span> <span class="op">=</span> <span class="fu">joyn</span><span class="fu">:::</span><span class="fu"><a href="../reference/type_choices.html">type_choices</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">msgs_types</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "info"   "note"   "warn"   "timing" "err"</span></span></code></pre></div>
<div class="section level3">
<h3 id="information-messages-ℹ">Information messages ℹ<a class="anchor" aria-label="anchor" href="#information-messages-%E2%84%B9"></a>
</h3>
<p>Info messages are intended to inform you about various aspects of the
join and the data tables involved, as you can see in the examples
below.</p>
<p>Recall that one of the additional features of <code>joyn</code> is
that it returns a reporting variable with the status of the join.
Examples in this regard include info messages that tell you in which
variable it is available the <code>joyn</code> report, or if the
reporting variable is not returned instead.</p>
<p>Recall that one of the additional features of joyn is that it returns
a <strong>reporting variable</strong> with the status of the join.
Examples in this regard include info messages that tell you in which
variable it is available the <code>joyn</code> report, or if the
reporting variable is not returned instead. Also, an info message might
let you know that the name you want to assign to the reporting variable
is already present in the returning table, so that it will be changed to
a another one.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Example dataframes</span></span>
<span></span>
<span><span class="va">x1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>                t  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>                x  <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span></span>
<span></span>
<span><span class="va">y1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>                y  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11L</span>, <span class="fl">15L</span>, <span class="fl">16</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">x2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="cn">NA</span><span class="op">)</span>,</span>
<span>                t  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>                x  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">12</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">y2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                yd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                y  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11L</span>, <span class="fl">15L</span>, <span class="fl">20L</span>, <span class="fl">13L</span>, <span class="fl">10L</span><span class="op">)</span>,</span>
<span>                x  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                id2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>                t   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>                x   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span>, <span class="fl">12</span>, <span class="cn">NA</span>, <span class="cn">NA</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">y3</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id3  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>                id4 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>                y   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11L</span>, <span class="fl">15L</span>, <span class="fl">20L</span>, <span class="fl">13L</span>, <span class="fl">10L</span><span class="op">)</span>,</span>
<span>                z   <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">16</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span></span>
<span><span class="co"># ------------------- Showing which var contains joyn report -------------------</span></span>
<span></span>
<span><span class="co"># Joining x2 and y2</span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x              <span class="op">=</span> <span class="va">x2</span>,</span>
<span>     y              <span class="op">=</span> <span class="va">y2</span>,</span>
<span>     by             <span class="op">=</span> <span class="st">"id"</span>, </span>
<span>     y_vars_to_keep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt;       id     t     x  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     4     2    12      x</span></span>
<span><span class="co">#&gt; 3:     2     1    NA  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    NA  x &amp; y</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15      x</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA      y</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA      y</span></span>
<span></span>
<span><span class="co"># Printing the info message</span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span>msg_type <span class="op">=</span> <span class="st">"info"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span></span>
<span><span class="co"># ---------------- Info about change in reporting variable name ----------------</span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x              <span class="op">=</span> <span class="va">x2</span>,</span>
<span>     y              <span class="op">=</span> <span class="va">y2</span>,</span>
<span>     by             <span class="op">=</span> <span class="st">"id"</span>, </span>
<span>     reportvar      <span class="op">=</span> <span class="st">"x"</span>,</span>
<span>     y_vars_to_keep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     x.1 n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable x</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">reportvar x is already part of the resulting table. It will be changed</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">to x.1</span></span></span>
<span><span class="co">#&gt;       id     t     x    x.1</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     4     2    12      x</span></span>
<span><span class="co">#&gt; 3:     2     1    NA  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    NA  x &amp; y</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15      x</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA      y</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA      y</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span>msg_type <span class="op">=</span> <span class="st">"info"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable x</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">reportvar x is already part of the resulting table. It will be changed</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">to x.1</span></span></span>
<span></span>
<span><span class="co"># ------------- Informing that reporting variable is not returned -------------</span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x              <span class="op">=</span> <span class="va">x2</span>,</span>
<span>     y              <span class="op">=</span> <span class="va">y2</span>,</span>
<span>     by             <span class="op">=</span> <span class="st">"id"</span>, </span>
<span>     reportvar      <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>     y_vars_to_keep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;"> Reporting variable is </span><span style="color: #9E9E9E; font-weight: bold;">NOT</span><span style="color: #9E9E9E;"> returned</span></span></span>
<span><span class="co">#&gt;       id     t     x</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16</span></span>
<span><span class="co">#&gt; 2:     4     2    12</span></span>
<span><span class="co">#&gt; 3:     2     1    NA</span></span>
<span><span class="co">#&gt; 4:     3     2    NA</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span>msg_type <span class="op">=</span> <span class="st">"info"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;"> Reporting variable is </span><span style="color: #9E9E9E; font-weight: bold;">NOT</span><span style="color: #9E9E9E;"> returned</span></span></span></code></pre></div>
<p>Furthermore, info messages will help you keep track of which
<strong>variables</strong> <strong>in <code>y</code> will be kept after
the merging</strong>, for example notifying you if any of the y
variables you have specified to keep will be removed because they are
part of the <code>by</code> variables.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x              <span class="op">=</span> <span class="va">x2</span>,</span>
<span>     y              <span class="op">=</span> <span class="va">y2</span>,</span>
<span>     by             <span class="op">=</span> <span class="st">"id"</span>, </span>
<span>     y_vars_to_keep <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id, yd, y, and x</span></span></span>
<span><span class="co">#&gt;       id     t     x    yd     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt; &lt;num&gt; &lt;int&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16     1    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     4     2    12    NA    NA      x</span></span>
<span><span class="co">#&gt; 3:     2     1    NA     2    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    NA     3    10  x &amp; y</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA    NA      x</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA     5    20      y</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA     6    13      y</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span>msg_type <span class="op">=</span> <span class="st">"info"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id, yd, y, and x</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="timing-messages">Timing messages 🔵<a class="anchor" aria-label="anchor" href="#timing-messages"></a>
</h3>
<p>Timing messages report in how many seconds the join is executed,
including the time spent to perform all checks.</p>
<p>While performing the join, <code>joyn</code> keeps track of the
<strong>time spent for the execution</strong>. This is then displayed in
timing messages, which report the elapsed time measured in seconds.</p>
<p>Before visualizing some examples, it is important to remind a feature
of how <code>joyn</code> executes any join between two data tables.</p>
<p>Specifically, <code>joyn</code> always first executes a full join
between the data tables - which includes all matching and non matching
rows in the resulting table. Then, it filters the rows depending on the
specific type of join that user wants to execute. For example, if the
user sets <code>keep = "right"</code>, <code>joyn</code> will filter the
table resulting from the full join and return to the user the data table
retaining <em>all</em> rows from the right table and only
<em>matching</em> rows from the left table. In addition, note that since
<code>joyn</code> performs a number of checks throughout the execution
(e.g., checking that the specified key for the merge is valid, or the
match type consistency), the time spent on checks will also be included
in reported time.</p>
<p>As a result, timing messages enable you to be aware of both:</p>
<ol style="list-style-type: decimal">
<li>Time spent to execute the <em>full join</em>
</li>
<li>Time spent to execute the <em>entire joyn function, including
checks</em>
</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># --------------------------- Example with full join ---------------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x          <span class="op">=</span> <span class="va">x1</span>, </span>
<span>     y          <span class="op">=</span> <span class="va">y1</span>, </span>
<span>     match_type <span class="op">=</span> <span class="st">"m:1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   33.3%</span></span>
<span><span class="co">#&gt; 2     y 1   16.7%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3     50%</span></span>
<span><span class="co">#&gt; 4 total 6    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id and y</span></span></span>
<span><span class="co">#&gt;       id     t     x     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    11    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     1     2    12    11  x &amp; y</span></span>
<span><span class="co">#&gt; 3:     2     1    13    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    14    NA      x</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA      x</span></span>
<span><span class="co">#&gt; 6:     4    NA    NA    16      y</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"timing"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0087FF; font-weight: bold;">● Timing:</span><span style="color: #9E9E9E;">The full joyn is executed in </span><span style="color: #0087FF; font-weight: bold;">0.000313</span><span style="color: #9E9E9E;"> seconds.</span></span></span>
<span><span class="co">#&gt; <span style="color: #0087FF; font-weight: bold;">● Timing:</span><span style="color: #9E9E9E;"> The entire joyn function, including checks, is executed in </span><span style="color: #0087FF; font-weight: bold;">0.025627</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">seconds.</span></span></span>
<span></span>
<span></span>
<span><span class="co"># --------------------------- Example with left join ---------------------------</span></span>
<span><span class="fu"><a href="../reference/left_join.html">left_join</a></span><span class="op">(</span>x            <span class="op">=</span> <span class="va">x1</span>, </span>
<span>          y            <span class="op">=</span> <span class="va">y1</span>, </span>
<span>          relationship <span class="op">=</span> <span class="st">"many-to-one"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2     40%</span></span>
<span><span class="co">#&gt; 2     y 1     20%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 2     40%</span></span>
<span><span class="co">#&gt; 4 total 5    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id and y</span></span></span>
<span><span class="co">#&gt;       id     t     x     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    11    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     1     2    12    11  x &amp; y</span></span>
<span><span class="co">#&gt; 3:     2     1    13    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    14    NA      x</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA      x</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"timing"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #0087FF; font-weight: bold;">● Timing:</span><span style="color: #9E9E9E;">The full joyn is executed in </span><span style="color: #0087FF; font-weight: bold;">0.000654</span><span style="color: #9E9E9E;"> seconds.</span></span></span>
<span><span class="co">#&gt; <span style="color: #0087FF; font-weight: bold;">● Timing:</span><span style="color: #9E9E9E;"> The entire joyn function, including checks, is executed in </span><span style="color: #0087FF; font-weight: bold;">0.024559</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">seconds.</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="warning-messages">Warning messages ⚠️<a class="anchor" aria-label="anchor" href="#warning-messages"></a>
</h3>
<p><code>joyn</code> generates warning messages to alert you about
possible problematic situation which however do not warrant terminating
execution of the merge.</p>
<p>For example, if you provide a match type that is inconsistent with
the data, <code>joyn</code> will generate a warning to inform you about
the actual relationship and to alert that the join will be executed
accordingly.</p>
<p>In the example below, both <code>x2</code> and <code>y2</code> are
uniquely identified by the key <code>id</code>, but the user is choosing
a “one to many” relationship instead. The user will be alerted and a
“one to one” join will be executed instead.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Warning that "id" uniquely identifies y2 </span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span><span class="va">x2</span>, <span class="va">y2</span>, by <span class="op">=</span> <span class="st">"id"</span>, match_type <span class="op">=</span> <span class="st">"1:m"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id, yd, y, and x</span></span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">The keys supplied uniquely identify y, therefore a </span><span style="color: #9E9E9E; font-weight: bold;">1:1</span><span style="color: #9E9E9E;"> join is</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">executed</span></span></span>
<span><span class="co">#&gt;       id     t     x    yd     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt; &lt;num&gt; &lt;int&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16     1    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     4     2    12    NA    NA      x</span></span>
<span><span class="co">#&gt; 3:     2     1    NA     2    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    NA     3    10  x &amp; y</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA    NA      x</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA     5    20      y</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA     6    13      y</span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">The keys supplied uniquely identify y, therefore a </span><span style="color: #9E9E9E; font-weight: bold;">1:1</span><span style="color: #9E9E9E;"> join is</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">executed</span></span></span></code></pre></div>
<p>In a similar way, warning messages are generated when choosing
<code>match_type = "m:m" or "m:1"</code></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ------------ Warning that "id" uniquely identifies both x2 and y2 ------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span><span class="va">x2</span>, <span class="va">y2</span>, by <span class="op">=</span> <span class="st">"id"</span>, match_type <span class="op">=</span> <span class="st">"m:m"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id, yd, y, and x</span></span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">The keys supplied uniquely identify both x and y, therefore a </span><span style="color: #9E9E9E; font-weight: bold;">1:1</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">join is executed</span></span></span>
<span><span class="co">#&gt;       id     t     x    yd     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt; &lt;num&gt; &lt;int&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16     1    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     4     2    12    NA    NA      x</span></span>
<span><span class="co">#&gt; 3:     2     1    NA     2    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    NA     3    10  x &amp; y</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA    NA      x</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA     5    20      y</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA     6    13      y</span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">The keys supplied uniquely identify both x and y, therefore a </span><span style="color: #9E9E9E; font-weight: bold;">1:1</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">join is executed</span></span></span>
<span></span>
<span><span class="co"># ------------------ Warning that "id" uniquely identifies x2 ------------------</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span><span class="va">x2</span>, <span class="va">y2</span>, by <span class="op">=</span> <span class="st">"id"</span>, match_type <span class="op">=</span> <span class="st">"m:1"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   28.6%</span></span>
<span><span class="co">#&gt; 2     y 2   28.6%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3   42.9%</span></span>
<span><span class="co">#&gt; 4 total 7    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id, yd, y, and x</span></span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">The keys supplied uniquely identify x, therefore a </span><span style="color: #9E9E9E; font-weight: bold;">1:1</span><span style="color: #9E9E9E;"> join is</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">executed</span></span></span>
<span><span class="co">#&gt;       id     t     x    yd     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;num&gt; &lt;num&gt; &lt;int&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    16     1    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     4     2    12    NA    NA      x</span></span>
<span><span class="co">#&gt; 3:     2     1    NA     2    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    NA     3    10  x &amp; y</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA    NA      x</span></span>
<span><span class="co">#&gt; 6:     5    NA    NA     5    20      y</span></span>
<span><span class="co">#&gt; 7:     6    NA    NA     6    13      y</span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">The keys supplied uniquely identify x, therefore a </span><span style="color: #9E9E9E; font-weight: bold;">1:1</span><span style="color: #9E9E9E;"> join is</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">executed</span></span></span></code></pre></div>
<p>Other examples of warnings are those that arise when you are trying
to supply certain arguments to the merging functions that are not yet
supported by the current version of <code>joyn</code>.</p>
<p>Suppose you are executing a left-join and you try to set the
<code>na_matches</code> argument to ‘never’. <code>joyn</code> will warn
you that it currently allows only <code>na_matches = 'na'</code>. A
similar message is displayed when <code>keep = NULL</code>. Given that
the current version of <code>joyn</code> does not support inequality
joins, <code>joyn</code> will warn you that <code>keep = NULL</code>
will make the join retain only keys in <code>x</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">joyn</span><span class="fu">::</span><span class="fu"><a href="../reference/left_join.html">left_join</a></span><span class="op">(</span>x            <span class="op">=</span> <span class="va">x1</span>, </span>
<span>                y            <span class="op">=</span> <span class="va">y1</span>, </span>
<span>                relationship <span class="op">=</span> <span class="st">"many-to-one"</span>, </span>
<span>                keep         <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                na_matches   <span class="op">=</span> <span class="st">"never"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2     40%</span></span>
<span><span class="co">#&gt; 2     y 1     20%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 2     40%</span></span>
<span><span class="co">#&gt; 4 total 5    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id and y</span></span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">joyn does not currently allow inequality joins, so keep = NULL will</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">retain only keys in x</span></span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">Currently, joyn allows only na_matches = 'na'</span></span></span>
<span><span class="co">#&gt;       id     t     x     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    11    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     1     2    12    11  x &amp; y</span></span>
<span><span class="co">#&gt; 3:     2     1    13    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    14    NA      x</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA      x</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"warn"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">joyn does not currently allow inequality joins, so keep = NULL will</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">retain only keys in x</span></span></span>
<span><span class="co">#&gt; <span style="color: #FF8700; font-weight: bold;">⚠ Warning: </span><span style="color: #9E9E9E;">Currently, joyn allows only na_matches = 'na'</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="error-messages">Error messages ❌<a class="anchor" aria-label="anchor" href="#error-messages"></a>
</h3>
<p>Error messages act as helpful notifications about the reasons why the
join you are trying to perform can’t be executed. Error messages
highlight where you went off course and provide clues to fix the issue
so that the merging can be successfully executed.</p>
<p>Sometimes error messages are due to a wrong/missing provision of the
inputs, for example if you do not supply variables to be used as key for
the merge, and <code>x</code> and <code>y</code> do not have any common
variable names. Error messages will also pop up if you provide an input
data table that has no variables, or that has duplicate variable
names.</p>
<p>Representative messages in this regard can be visualized below:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># ----------------- Error due to input table x with no columns -----------------</span></span>
<span></span>
<span><span class="va">x_empty</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  </span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x_empty</span>,</span>
<span>     y <span class="op">=</span> <span class="va">y1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #D70000; font-weight: bold;">✖ Error: </span><span style="color: #9E9E9E;"> Input table x has no columns.</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `check_xy()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> wrong input specification</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"err"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #D70000; font-weight: bold;">✖ Error: </span><span style="color: #9E9E9E;"> Input table x has no columns.</span></span></span>
<span></span>
<span><span class="co"># ----------------------- Error due to duplicate names  ------------------------</span></span>
<span></span>
<span><span class="va">x_duplicates</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></span><span class="op">(</span>id          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">3L</span>, <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>                          x           <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">2L</span>, <span class="fl">1L</span>, <span class="fl">2L</span>, <span class="cn">NA_integer_</span><span class="op">)</span>,</span>
<span>                          x           <span class="op">=</span> <span class="fl">11</span><span class="op">:</span><span class="fl">15</span>,</span>
<span>                          check.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x_duplicates</span>,</span>
<span>     y <span class="op">=</span> <span class="va">y1</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #D70000; font-weight: bold;">✖ Error: </span><span style="color: #9E9E9E;"> Table x has the following column duplicated: x.  Please rename or</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">remove and try again.</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `check_xy()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> wrong input specification</span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"err"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #D70000; font-weight: bold;">✖ Error: </span><span style="color: #9E9E9E;"> Table x has the following column duplicated: x.  Please rename or</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">remove and try again.</span></span></span></code></pre></div>
<p>Furthermore, errors messages are generated when choosing the wrong
<code>match_type</code>, that is not consistent with the actual
relationship between the variables being used for merging.
<code>joyn</code> will therefore display the following message:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x1</span>, y<span class="op">=</span><span class="va">y1</span>, by<span class="op">=</span><span class="st">"id"</span>, match_type <span class="op">=</span> <span class="st">"1:1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #D70000; font-weight: bold;">✖ Error: </span><span style="color: #9E9E9E;">table x is not uniquely identified by id</span></span></span>
<span><span class="co">#&gt; Duplicate counts in <span style="color: #00BB00;">x</span>:</span></span>
<span><span class="co">#&gt;        id copies percent</span></span>
<span><span class="co">#&gt;    &lt;char&gt;  &lt;int&gt;  &lt;char&gt;</span></span>
<span><span class="co">#&gt; 1:      1      2     40%</span></span>
<span><span class="co">#&gt; 2:  total      5    100%</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `check_match_type()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> match type inconsistency</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> refer to the duplicate counts in the table(s) above to identify where the</span></span>
<span><span class="co">#&gt;   issue occurred</span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span><span class="st">"err"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #D70000; font-weight: bold;">✖ Error: </span><span style="color: #9E9E9E;">table x is not uniquely identified by id</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="additional-how-to-visualize-joyn-messages">Additional: How to visualize <code>joyn</code> messages?<a class="anchor" aria-label="anchor" href="#additional-how-to-visualize-joyn-messages"></a>
</h2>
<p><code>joyn</code> stores the messages in the <code>joyn</code>
environment.</p>
<p>In order to print them, you can use the <code><a href="../reference/joyn_msg.html">joyn_msg()</a></code>
function. The <code>msg_type</code> argument allows you to specify a
certain type of message you would like to visualize, or, if you want all
of them to be displayed, you can just set <code>type = 'all'</code></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Execute a join </span></span>
<span></span>
<span><span class="fu"><a href="../reference/joyn.html">joyn</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x1</span>, </span>
<span>     y <span class="op">=</span> <span class="va">y1</span>, </span>
<span>     match_type <span class="op">=</span> <span class="st">"m:1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">JOYn Report</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   .joyn n percent</span></span>
<span><span class="co">#&gt; 1     x 2   33.3%</span></span>
<span><span class="co">#&gt; 2     y 1   16.7%</span></span>
<span><span class="co">#&gt; 3 x &amp; y 3     50%</span></span>
<span><span class="co">#&gt; 4 total 6    100%</span></span>
<span><span class="co">#&gt; ────────────────────────────────────────────────────────── End of <span style="color: #00BB00;">JOYn</span> report ──</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id and y</span></span></span>
<span><span class="co">#&gt;       id     t     x     y  .joyn</span></span>
<span><span class="co">#&gt;    &lt;num&gt; &lt;int&gt; &lt;int&gt; &lt;num&gt; &lt;fctr&gt;</span></span>
<span><span class="co">#&gt; 1:     1     1    11    11  x &amp; y</span></span>
<span><span class="co">#&gt; 2:     1     2    12    11  x &amp; y</span></span>
<span><span class="co">#&gt; 3:     2     1    13    15  x &amp; y</span></span>
<span><span class="co">#&gt; 4:     3     2    14    NA      x</span></span>
<span><span class="co">#&gt; 5:    NA    NA    15    NA      x</span></span>
<span><span class="co">#&gt; 6:     4    NA    NA    16      y</span></span>
<span></span>
<span><span class="co"># Print all messages stored</span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span>msg_type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id and y</span></span></span>
<span><span class="co">#&gt; <span style="color: #0087FF; font-weight: bold;">● Timing:</span><span style="color: #9E9E9E;">The full joyn is executed in </span><span style="color: #0087FF; font-weight: bold;">0.000321</span><span style="color: #9E9E9E;"> seconds.</span></span></span>
<span><span class="co">#&gt; <span style="color: #0087FF; font-weight: bold;">● Timing:</span><span style="color: #9E9E9E;"> The entire joyn function, including checks, is executed in </span><span style="color: #0087FF; font-weight: bold;">0.050597</span></span></span>
<span><span class="co">#&gt; <span style="color: #9E9E9E;">seconds.</span></span></span>
<span></span>
<span><span class="co"># Print info messages only </span></span>
<span><span class="fu"><a href="../reference/joyn_msg.html">joyn_msg</a></span><span class="op">(</span>msg_type <span class="op">=</span> <span class="st">"info"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Joyn's report available in variable .joyn</span></span></span>
<span><span class="co">#&gt; <span style="color: #00AF00;">ℹ Note: </span><span style="color: #9E9E9E;">Removing key variables id from id and y</span></span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://randrescastaneda.rbind.io/" class="external-link">R.Andres Castaneda</a>, Zander Prinsloo, Rossana Tatulli.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
